---
title: "rcwChart"
author: ""
date: "`r Sys.Date()`"
output:
  rmarkdown::html_vignette:
    self_contained: false
    lib_dir: rcw_files
vignette: >
  %\VignetteIndexEntry{rcwchart}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, echo=FALSE, message=FALSE}
library(rcw)
library(magrittr)
rcwopts <- list(inline = TRUE, save = TRUE)
```

<!-- - [codepen mock example](https://codepen.io/bowerth/pen/EXrdpP) -->

## Data

```{r data, echo=TRUE, results='as.is'}
knitr::kable(rcw_rand)
```


## Stacked Bar Chart

```{r stacked-chart, eval=FALSE}
## stackedData <- rcw_stacked
## stackedData$x <- stackedData$y * sample(seq(0, 1, 0.01), nrow(stackedData))
## library(rcw)
rcwChart(rcw_stacked, type = "stacked", x = "x", y = "y", fill = "layer")
```


## SAVE


```{r bar-chart-save, eval=FALSE, echo=FALSE}
wBar <- rcwChart(rcw_ts, type = "bar")
if (rcwopts$save) {
  htmlwidgets::saveWidget(wBar,
                          ## file = file.path(getwd(), "htmlwidget/rcw-bar.html"),
                          file = "./rcw-bar.html",
                          selfcontained = FALSE)
}
if (rcwopts$inline) wBar
## if (rcwopts$inline)
## htmltools::includeHTML("./rcw-bar.html")
```


```{r scatter-chart-save, eval=FALSE, echo=FALSE}
wScatter <- rcwChart(rcw_ts, type = "scatter")
if (rcwopts$save) {
  htmlwidgets::saveWidget(wScatter,
                          file = file.path(getwd(), "htmlwidget/rcw-scatter.html"),
                          selfcontained = FALSE)
}
if (rcwopts$inline) wScatter
```


```{r row-chart-save, eval=FALSE, echo=FALSE}
wRow <- rcwChart(rcw_ts, type = "row")
if (rcwopts$save) {
  htmlwidgets::saveWidget(wRow,
                          file = file.path(getwd(), "htmlwidget/rcw-row.html"),
                          selfcontained = FALSE)
}
if (rcwopts$inline) wRow
```

