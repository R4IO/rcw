<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Function for posting chart configurations. — post_config • rcw</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rcw</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Example
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/chartConfig.html">chartConfig</a>
    </li>
    <li>
      <a href="../articles/rcwChart.html">rcwChart</a>
    </li>
    <li>
      <a href="../articles/barChart.html">Bar Chart</a>
    </li>
    <li>
      <a href="../articles/rowChart.html">Row Chart</a>
    </li>
    <li>
      <a href="../articles/scatterChart.html">Scatter Chart</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Function for posting chart configurations.</h1>
    </div>

    
    <p><code>post_config</code> submits JSON configuration lists.</p>
    

    <pre class="usage"><span class='fu'>post_config</span>(<span class='kw'>config</span> <span class='kw'>=</span> <span class='fu'>stop</span>(<span class='st'>"'config' must be specified"</span>), <span class='no'>...</span>,
  <span class='kw'>url</span> <span class='kw'>=</span> <span class='st'>"http://stats.oecd.org"</span>, <span class='kw'>show</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>path</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>response</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>auto_unbox</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>null</span> <span class='kw'>=</span> <span class='st'>"null"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>config</th>
      <td><p>a configuration list according to the API definition</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional parameters supplied to <code>httr:POST</code>, e.g.
<code><a href='http://www.rdocumentation.org/packages/httr/topics/verbose'>httr::verbose()</a></code></p></td>
    </tr>
    <tr>
      <th>url</th>
      <td><p>the POST API endpoint offering <code>/share</code> and <code>/chart</code>
services, e.g. http://vs-webdev-1:89 or http://stats.oecd.org</p></td>
    </tr>
    <tr>
      <th>show</th>
      <td><p>boolean print the created JSON object</p></td>
    </tr>
    <tr>
      <th>path</th>
      <td><p>write the JSON object to a file on disk</p></td>
    </tr>
    <tr>
      <th>auto_unbox</th>
      <td><p>automatically ‘unbox’ all atomic vectors of length 1 (see
<code><a href='http://www.rdocumentation.org/packages/jsonlite/topics/fromJSON'>jsonlite::toJSON</a></code>)</p></td>
    </tr>
    <tr>
      <th>null</th>
      <td><p>how to encode NULL values within a list: must be one of 'null' or
'list' (see <code><a href='http://www.rdocumentation.org/packages/jsonlite/topics/fromJSON'>jsonlite::toJSON</a></code>)</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="source"><a class="anchor" href="#source"></a>Source</h2>

    <p><code>httr</code> was created by Hadley Wickham, see
  <a href='https://cran.r-project.org/web/packages/httr/index.html'>https://cran.r-project.org/web/packages/httr/index.html</a>;
  <code>jsonlite</code> was created by Jeroen Ooms et al., see
  <a href='https://cran.r-project.org/web/packages/jsonlite/index.html'>https://cran.r-project.org/web/packages/jsonlite/index.html</a>.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>flow</span> <span class='kw'>&lt;-</span> <span class='st'>"KEI"</span>
<span class='no'>query</span> <span class='kw'>&lt;-</span> <span class='st'>"PRINTO01+PRMNTO01.AUS+AUT+BEL+CAN+CHL+CZE+DNK+EST+FIN+FRA.GP.A"</span>
<span class='no'>opts</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"startTime=2015"</span>, <span class='st'>"endTime=2015"</span>, <span class='st'>"dimensionAtObservation=AllDimensions"</span>)
<span class='no'>query_url</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='create_query_url.html'>create_query_url</a></span>(<span class='kw'>flow</span> <span class='kw'>=</span> <span class='no'>flow</span>, <span class='kw'>query</span> <span class='kw'>=</span> <span class='no'>query</span>, <span class='kw'>opts</span> <span class='kw'>=</span> <span class='no'>opts</span>)
<span class='no'>chartconfig</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='create_config.html'>create_config</a></span>(<span class='kw'>source</span> <span class='kw'>=</span> <span class='no'>query_url</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"BarChart"</span>, <span class='kw'>logo</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='fu'>post_config</span>(<span class='kw'>config</span> <span class='kw'>=</span> <span class='no'>chartconfig</span>, <span class='kw'>url</span> <span class='kw'>=</span> <span class='st'>"http://stats.oecd.org"</span>, <span class='kw'>response</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; Response [http://stats.oecd.org/share]
#&gt;   Date: 2018-06-03 12:43
#&gt;   Status: 201
#&gt;   Content-Type: application/json; charset=utf-8
#&gt;   Size: 14 B
#&gt; </div><div class='output co'>#&gt; [1] "http://stats.oecd.org/chart?id=4cia"</div><div class='input'>
<span class='co'>## write to disk for debugging</span>
<span class='co'>#' flow &lt;- "KEI"</span>
<span class='no'>outfile</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>(<span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"chartconfig_"</span>, <span class='kw'>fileext</span> <span class='kw'>=</span> <span class='st'>".json"</span>)
<span class='fu'>post_config</span>(<span class='kw'>config</span> <span class='kw'>=</span> <span class='no'>chartconfig</span>, <span class='kw'>path</span> <span class='kw'>=</span> <span class='no'>outfile</span>)</div><div class='output co'>#&gt; 
#&gt; Created file /tmp/Rtmp9jzMC1/chartconfig_6c3415224be1.json </div><div class='input'><span class='no'>filecon</span> <span class='kw'>&lt;-</span> <span class='fu'>file</span>(<span class='no'>outfile</span>)
<span class='fu'>readLines</span>(<span class='kw'>con</span> <span class='kw'>=</span> <span class='no'>filecon</span>)</div><div class='output co'>#&gt;  [1] "{"                                                                                                                                                                                                       
#&gt;  [2] "  \"data\": {"                                                                                                                                                                                           
#&gt;  [3] "    \"data\": {"                                                                                                                                                                                         
#&gt;  [4] "      \"title\": null,"                                                                                                                                                                                  
#&gt;  [5] "      \"subtitle\": null,"                                                                                                                                                                               
#&gt;  [6] "      \"uprs\": null,"                                                                                                                                                                                   
#&gt;  [7] "      \"footnotes\": {},"                                                                                                                                                                                
#&gt;  [8] "      \"frequency\": null,"                                                                                                                                                                              
#&gt;  [9] "      \"series\": [],"                                                                                                                                                                                   
#&gt; [10] "      \"share\": {"                                                                                                                                                                                      
#&gt; [11] "        \"focused\": {},"                                                                                                                                                                                
#&gt; [12] "        \"chartDimension\": null,"                                                                                                                                                                       
#&gt; [13] "        \"source\": \"http://stats.oecd.org:80/SDMX-JSON/data/KEI/PRINTO01+PRMNTO01.AUS+AUT+BEL+CAN+CHL+CZE+DNK+EST+FIN+FRA.GP.A/all?startTime=2015&amp;endTime=2015&amp;dimensionAtObservation=AllDimensions\","
#&gt; [14] "        \"sharedate\": 1525513191754,"                                                                                                                                                                   
#&gt; [15] "        \"dependencies\": {"                                                                                                                                                                             
#&gt; [16] "          \"oecd-configurable-charts\": \"4.1.1\""                                                                                                                                                       
#&gt; [17] "        }"                                                                                                                                                                                               
#&gt; [18] "      }"                                                                                                                                                                                                 
#&gt; [19] "    },"                                                                                                                                                                                                  
#&gt; [20] "    \"options\": {"                                                                                                                                                                                      
#&gt; [21] "      \"base\": {"                                                                                                                                                                                       
#&gt; [22] "        \"width\": null,"                                                                                                                                                                                
#&gt; [23] "        \"height\": null"                                                                                                                                                                                
#&gt; [24] "      },"                                                                                                                                                                                                
#&gt; [25] "      \"axis\": {"                                                                                                                                                                                       
#&gt; [26] "        \"x\": {"                                                                                                                                                                                        
#&gt; [27] "          \"linear\": {"                                                                                                                                                                                 
#&gt; [28] "            \"pivot\": {}"                                                                                                                                                                               
#&gt; [29] "          }"                                                                                                                                                                                             
#&gt; [30] "        },"                                                                                                                                                                                              
#&gt; [31] "        \"y\": {"                                                                                                                                                                                        
#&gt; [32] "          \"linear\": {"                                                                                                                                                                                 
#&gt; [33] "            \"pivot\": {}"                                                                                                                                                                               
#&gt; [34] "          }"                                                                                                                                                                                             
#&gt; [35] "        }"                                                                                                                                                                                               
#&gt; [36] "      },"                                                                                                                                                                                                
#&gt; [37] "      \"map\": {"                                                                                                                                                                                        
#&gt; [38] "        \"projection\": null,"                                                                                                                                                                           
#&gt; [39] "        \"scale\": null"                                                                                                                                                                                 
#&gt; [40] "      },"                                                                                                                                                                                                
#&gt; [41] "      \"serie\": {"                                                                                                                                                                                      
#&gt; [42] "        \"choropleth\": {}"                                                                                                                                                                              
#&gt; [43] "      }"                                                                                                                                                                                                 
#&gt; [44] "    },"                                                                                                                                                                                                  
#&gt; [45] "    \"config\": {"                                                                                                                                                                                       
#&gt; [46] "      \"logo\": null,"                                                                                                                                                                                   
#&gt; [47] "      \"owner\": \"©OECD\","                                                                                                                                                                             
#&gt; [48] "      \"terms\": {"                                                                                                                                                                                      
#&gt; [49] "        \"label\": \"Terms &amp; Conditions\","                                                                                                                                                              
#&gt; [50] "        \"link\": \"https://www.oecd.org/termsandconditions/\""                                                                                                                                          
#&gt; [51] "      }"                                                                                                                                                                                                 
#&gt; [52] "    }"                                                                                                                                                                                                   
#&gt; [53] "  },"                                                                                                                                                                                                    
#&gt; [54] "  \"share\": \"latest\","                                                                                                                                                                                
#&gt; [55] "  \"type\": \"BarChart\""                                                                                                                                                                                
#&gt; [56] "}"                                                                                                                                                                                                       </div><div class='input'><span class='fu'>close</span>(<span class='no'>filecon</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#source">Source</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by First Last.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
